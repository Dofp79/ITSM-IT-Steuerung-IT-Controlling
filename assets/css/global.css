/* ===========================================================
   Global Stylesheet
   -----------------------------------------------------------
   Inhalt / Reihenfolge:
   1)  FONTS – Lato (self-hosted)
   2)  DESIGN TOKENS – zentrale Variablen (incl. --logo-h, --header-h)
   3)  BASE / HELPERS – Reset, Container, Utilities
   4)  SKIP-LINK – A11y Shortcuts
   5)  HEADER / DRAWER – Brand-Bar, Header, Logo, Navigation
   6)  HERO – Seitenkopf
   7)  TILES – Bildkacheln
   8)  SECTION-HEADINGS – Abschnittstitel mit rotem Punkt
   9)  CARDS – Kartenraster
   10) ACCORDION – auf-/zuklappbare Bereiche
   11) BREADCRUMB – (optional)
   12) KONTAKTBLOCK – kompakt (global)
   13) FOOTER – kompakt + „Nach oben“
   14) A11y – sichtbarer Tastaturfokus
   15) PRINT – Druckansicht
   16) REDUCED MOTION – weniger Animationen
   17) CV / ÜBER MICH – Lebenslauf-Bausteine
   18) ZOOM / MODAL – Lupe + Vollbild (einmalig, dedupliziert)
   =========================================================== */


/* ===========================================================
   1) FONTS – Lato (self-hosted)
   -----------------------------------------------------------
   Dateien liegen unter /assets/fonts/  (WOFF)
   "font-display: swap" → schnelle Darstellung ohne FOIT
   =========================================================== */
@font-face { /* Regular 400 */
  font-family: "Lato";
  src: url("../fonts/lato-regular-woff-data.woff") format("woff");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face { /* Italic 400 */
  font-family: "Lato";
  src: url("../fonts/lato-italic-woff-data.woff") format("woff");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}
@font-face { /* Medium 500 */
  font-family: "Lato";
  src: url("../fonts/lato-medium-woff-data.woff") format("woff");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face { /* SemiBold 600 */
  font-family: "Lato";
  src: url("../fonts/lato-semibold-woff-data.woff") format("woff");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face { /* Bold 700 */
  font-family: "Lato";
  src: url("../fonts/lato-bold-woff-data.woff") format("woff");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face { /* Bold Italic 700i */
  font-family: "Lato";
  src: url("../fonts/lato-bolditalic-woff-data.woff") format("woff");
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}
@font-face { /* Thin 100 */
  font-family: "Lato";
  src: url("../fonts/lato-thin-woff-data.woff") format("woff");
  font-weight: 100;
  font-style: normal;
  font-display: swap;
}


/* ===========================================================
   2) DESIGN TOKENS – zentrale Variablen
   -----------------------------------------------------------
   -> HIER stellst du u.a. die **Logo-Höhe** seitenweit ein.
   -> --header-h dient als Top-Offset für den Drawer (Fallback).
   =========================================================== */
:root{
  /* Typografie-Stacks */
  --font-sans: "Lato", system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  --font-cond: "Lato", system-ui, -apple-system, "Segoe UI", Arial, sans-serif;

  /* Markenfarben */
  --brand-red:     #e30613;  /* Rot für Akzente/aktiv */
  --brand-red-ink: #7d212b;  /* Rotbraun für Überschriftenpunkte */

  /* Flächen/Hintergründe */
  --header-bg: #ffffff;
  --drawer-bg: #0c2a45;     /* dunkelblauer Drawer-Hintergrund */
  --drawer-fg: #ffffff;     /* (Fallback) Textfarbe im Drawer */
  --hero-bg:   #0e3659;     /* Blau des Mittelbereichs/Hero */
  --tile-bg:   #0b2f4d;
  --bg:        #ffffff;
  --bg-alt:    #f5f7f8;

  /* Text/Linien */
  --text:   #222;
  --muted:  #54616e;
  --border: #e3e6e8;

  /* Form/Effekte */
  --radius: 14px;
  --shadow: 0 6px 18px rgba(0,0,0,.06);

  /* Drawer-Link-Chips (weiß, für Kontrast zum dunklen Drawer) */
  --drawer-chip-bg:   #ffffff;
  --drawer-chip-bord: rgba(0,0,0,0.08);
  --drawer-chip-hov:  rgba(0,0,0,0.05);

  /* Logo-Höhe + Header-Höhe (Fallback) */
  --logo-h: 40px;     /* Desktop-Logo-Höhe */
  --header-h: 56px;   /* Fallback für Drawer-Start; JS misst real nach */
}
@media (max-width: 640px){
  :root{ --logo-h: 34px; }  /* Mobil etwas kompakter */
}


/* ===========================================================
   3) BASE / HELPERS – Grundlayout & Utilities
   =========================================================== */
*, *::before, *::after { box-sizing: border-box; }

html { scroll-behavior: smooth; }

body{
  margin: 0;
  color: var(--text);
  background: var(--bg);
  font-family: var(--font-sans);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

img{
  max-width: 100%;
  height: auto;
  display: block;
}

a{
  color: #0b3a66;
  text-decoration: none;
}
a:hover,
a:focus{ text-decoration: underline; }

.container{
  width: min(1200px, 92vw);
  margin-inline: auto;
  padding-inline: 1rem;
}

.section{ padding: 3rem 0; }
.section--alt{ background: var(--bg-alt); }

.grid-2{
  display: grid;
  gap: 2rem;
  grid-template-columns: 1fr;     /* mobil: 1 Spalte */
}
@media (min-width: 900px){
  .grid-2{ grid-template-columns: 2fr 1fr; }  /* ab 900px: 2 Spalten */
}

/* Fließtext/Lead – Blocksatz + bessere Wortabstände */
.lead{
  color: var(--muted);
  line-height: 1.75;
  text-align: justify;
  text-justify: inter-word;
}

.checklist{ list-style: "✔  "; padding-left: 1.1rem; }

.card{
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1.1rem;
  box-shadow: var(--shadow);
}

.link-list{ padding-left: 1rem; }
.link-list li{ margin-bottom: .4rem; }

/* Screenreader-Utility: visuell versteckt, aber zugänglich */
.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0);
  white-space: nowrap; border: 0;
}


/* ===========================================================
   4) SKIP-LINK – Tastaturzugänglichkeit
   =========================================================== */
.skip-link{
  position: absolute;
  left: -9999px;
  top: auto;
  z-index: 1000;
  background: var(--brand-red);
  color: #fff;
  padding: .5rem .75rem;
  border-radius: .5rem;
}
.skip-link:focus{
  left: .5rem;
  top: .5rem;
}


/* ===========================================================
   5) HEADER / BRAND-BAR / DRAWER
   -----------------------------------------------------------
   -> Einheitliches Headerbild + variabler Drawer-Start
   =========================================================== */
.brand-bar{                 /* dünne rote Linie unter dem Header */
  height: 6px;
  background: var(--brand-red);
}

/* Sticky Header – Höhe ergibt sich aus Innenabständen */
.site-header{
  background: var(--header-bg);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 60;
}

.header-bar{                /* Burger links, Logo rechts */
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .6rem 0;
}

/* --- Burger (links) -------------------------------------- */
.burger{
  display: inline-flex;
  align-items: center;
  gap: .6rem;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: .7rem;
  padding: .45rem .7rem;    /* leicht kompakter */
  box-shadow: var(--shadow);
  cursor: pointer;
  color: #111;
}
.burger__icon{
  width: 18px;
  height: 2px;
  background: currentColor;
  position: relative;
}
.burger__icon::before,
.burger__icon::after{
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  height: 2px;
  background: currentColor;
}
.burger__icon::before{ top: -6px; }
.burger__icon::after { top:  6px; }
.burger__label{
  font-weight: 700;
  font-family: var(--font-cond);
  color: var(--hero-bg);    /* Wunschfarbe */
}

/* --- Logo (rechts) – KONSISTENT ÜBER ALLE SEITEN ---------- */
.brand-right{ display: inline-flex; align-items: center; }

/* Steuerung der Logo-Größe ausschließlich über Höhe (Token --logo-h) */
.brand-right__logo{
  height: var(--logo-h) !important;  /* erzwingt die Höhe */
  width: auto !important;            /* proportional skalieren */
  max-width: 240px;                  /* Sicherheitslimit */
  object-fit: contain;
  display: block;
}
/* Falls HTML alte width/height-Attribute enthält → neutralisieren */
.site-header img.brand-right__logo[width],
.site-header img.brand-right__logo[height]{
  width: auto !important;
  height: var(--logo-h) !important;
}

/* --- Drawer (ausfahrende Navigation) --------------------- */
.nav-drawer{
  position: fixed;
  /* Startet **unter** dem Header. JS setzt --header-h live. */
  inset: var(--header-h, 56px) auto 0 0;
  width: min(340px, 86vw);
  transform: translateX(-100%);     /* initial verborgen (links draußen) */
  background: var(--drawer-bg);
  color: var(--drawer-fg);
  padding: 1rem .75rem;
  border-right: 1px solid rgba(255,255,255,.12);
  transition: transform .25s ease;
  z-index: 70;
}
.nav-drawer.is-open{ transform: none; }

.nav-drawer ul{ list-style: none; margin: 0; padding: 0; }
.nav-drawer li + li{ margin-top: .35rem; }

/* Drawer-Links als weiße "Chips" (Kontrast) in Blau */
.nav-drawer a{
  display: block;
  padding: .8rem .9rem;
  border-radius: .7rem;
  font-weight: 700;
  font-family: var(--font-cond);
  text-decoration: none;
  color: var(--hero-bg);                /* Blau (Default) */
  background: var(--drawer-chip-bg);   /* Weißer Chip */
  border: 1px solid var(--drawer-chip-bord);
}
.nav-drawer a:hover,
.nav-drawer a:focus{
  background: var(--drawer-chip-hov);
  text-decoration: none;
}
/* Blau → Rot für aktiv/fokussiert */
.nav-drawer a:active{
  color: var(--brand-red);
}
.nav-drawer a:focus{
  outline: 3px solid rgba(227, 6, 19, .25);
  outline-offset: 2px;
  color: var(--brand-red);
}
.nav-drawer a.is-active,
.nav-drawer a[aria-current="page"],
.nav-drawer a[aria-current="true"]{
  color: var(--brand-red);
  border-color: rgba(227, 6, 19, .35);
  box-shadow: inset 0 0 0 2px rgba(227, 6, 19, .12);
  background: #fff;
}


/* ===========================================================
   6) HERO – Kopfbereich (Blau) mit Titel/Lead
   =========================================================== */
.hero{
  background: var(--hero-bg);
  color: #fff;
  border-bottom: 1px solid #08243e;
}
.hero-inner{
  padding: 2.2rem 0 2.6rem;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.hero__title{
  text-align: center;
  max-width: 80ch;
  margin: 0 auto .5rem;
  line-height: 1.15;
  font-family: var(--font-cond);
  font-weight: 700;
  letter-spacing: .2px;
  font-size: clamp(1.6rem, 2.2vw + 1.1rem, 2.4rem);
}
.hero__lead{
  margin: 0 auto;
  color: #d7e3ef;
  max-width: 80ch;
  text-align: justify;
  text-justify: inter-word;
  font-size: clamp(1rem, 1.1vw, 1.2rem);
  line-height: 1.75;
}


/* ===========================================================
   7) TILES – 2×2 Bildkacheln (Links)
   =========================================================== */
.section--tiles{ background: var(--hero-bg); }
.tiles{
  display: grid;
  gap: 1.2rem;
  grid-template-columns: repeat(2, 1fr);
}
@media (max-width: 680px){
  .tiles{ grid-template-columns: 1fr; }
}
.tile{
  background: var(--tile-bg);
  border: 1px solid rgba(255,255,255,.15);
  border-radius: 14px;
  overflow: hidden;
  display: block;
  text-decoration: none;
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}
.tile figure{
  margin: 0;
  display: grid;
  grid-template-rows: auto auto;
}
.tile img{
  width: 100%;
  aspect-ratio: 16/9;
  object-fit: cover;
  display: block;
  filter: saturate(.96);
  transition: transform .25s ease;
}
.tile:hover img{ transform: scale(1.02); }
.tile figcaption{
  padding: .6rem .8rem;
  color: #fff;
  font-weight: 700;
  font-family: var(--font-cond);
  background: linear-gradient(0deg, rgba(255,255,255,.06), rgba(255,255,255,0));
}


/* ===========================================================
   8) SECTION-HEADINGS – roter Punkt + Titel
   =========================================================== */
.sec-head{
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0 0 12px;
}
.sec-dot{
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: var(--brand-red-ink);
}
.sec-title{
  margin: 0;
  color: var(--brand-red-ink);
  font-family: var(--font-cond);
  font-size: clamp(1.2rem, 1.2vw + 1rem, 1.6rem);
  font-weight: 700;
  letter-spacing: .2px;
}


/* ===========================================================
   9) CARDS – Raster für Projektkarten
   =========================================================== */
.cards{
  display: grid;
  gap: 1.2rem;
  grid-template-columns: repeat(3, 1fr);
}
@media (max-width: 900px){
  .cards{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px){
  .cards{ grid-template-columns: 1fr; }
}


/* ===========================================================
   10) ACCORDION – ITSM Konzept
   =========================================================== */
.accordion__trigger{
  width: 100%;
  text-align: left;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: .75rem;
  padding: .8rem 1rem;
  font-weight: 700;
  font-family: var(--font-cond);
  transition: border-color .2s ease, color .2s ease;
}
.accordion__trigger[aria-expanded="true"]{
  border-color: var(--brand-red);
  color: var(--brand-red);
}
.accordion__panel{
  border-left: 3px solid var(--brand-red);
  margin: .5rem 0 1rem;
  padding: .6rem 1rem;
  background: #fff;
  border-radius: .5rem;
  box-shadow: var(--shadow);
}


/* ===========================================================
   11) BREADCRUMB – optional (derzeit ungenutzt)
   =========================================================== */
.breadcrumb{
  background: #fff;
  border-block: 1px solid var(--border);
}
.breadcrumb ol{
  list-style: none;
  margin: 0;
  padding: .5rem 0;
  display: flex;
  gap: .75rem;
  flex-wrap: wrap;
}
.breadcrumb a{ color: var(--muted); }
.breadcrumb li + li::before{
  content: "/";
  color: var(--muted);
  margin-right: .75rem;
}


/* ===========================================================
   12) KONTAKTBLOCK – global, KOMPAKT
   -----------------------------------------------------------
   Hinweis gegen Doppelkontakt in HTML/Includes:
   - Primär in HTML/JS lösen (nur EINEN Block rendern).
   - Optionaler CSS-Sicherheitsgurt siehe Kommentar unten.
   =========================================================== */
.contact-block{
  padding: 1.2rem 0;
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  background: var(--bg-alt);
}
@media (min-width: 900px){
  .contact-block{ padding: 1.4rem 0; }
}
.contact-inner{ max-width: 800px; margin: 0 auto; text-align: center; }
.contact-title{
  font-family: var(--font-cond);
  font-size: 1.6rem;
  margin-bottom: .35rem;
  color: var(--brand-red-ink);
}
.contact-name{ font-weight: 600; margin-bottom: .3rem; }
.contact-email a{
  font-weight: 700;
  color: var(--brand-red);
  text-decoration: none;
}
.contact-email a:hover{ text-decoration: underline; }

/* OPTIONALER Sicherheitsgurt (nur wenn versehentlich 2x hintereinander):
   .contact-block + .contact-block{ display:none !important; } */


/* ===========================================================
   13) FOOTER – kompakter Bereich + „Nach oben“
   =========================================================== */
.site-footer{
  background: #0b0f13;
  color: #cbd3d8;
  margin-top: 2rem;
}
.subfooter__inner{
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  align-items: center;
  padding: .3rem 0;     /* kompakter Footer */
}
.to-top{ color: #9ab; }
.to-top:hover{ color: #fff; }


/* ===========================================================
   14) FOCUS SICHTBAR – Tastaturfokus
   =========================================================== */
:focus-visible{
  outline: 3px solid #0a7cff;
  outline-offset: 2px;
}


/* ===========================================================
   15) PRINT – Druckfreundliche Ansicht
   =========================================================== */
@media print{
  .nav-drawer,
  .burger,
  .tiles,
  .brand-bar{ display: none !important; }

  .card,
  .accordion__panel{
    box-shadow: none;
    border-color: #999;
  }
}


/* ===========================================================
   16) REDUCED MOTION – Barrierearme Animationen
   =========================================================== */
@media (prefers-reduced-motion: reduce){
  html { scroll-behavior: auto; }
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}


/* ===========================================================
   17) CV / ÜBER MICH – Styles
   =========================================================== */
.cv-block-title{
  margin: 1.5rem 0 .75rem;
  font-family: var(--font-cond);
  font-weight: 700;
  color: var(--brand-red-ink);
  font-size: clamp(1.1rem, 1vw + 1rem, 1.35rem);
}
.timeline{ display: grid; gap: 1rem; }
.cv-card{
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1rem .9rem;
  box-shadow: var(--shadow);
  position: relative;
}
.cv-card::before{
  content: "";
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 4px;
  border-radius: 4px 0 0 4px;
  background: linear-gradient(180deg, var(--brand-red) 0%, rgba(227,6,19,.15) 100%);
}
.cv-title{
  margin: 0 0 .25rem;
  font-weight: 700;
  font-family: var(--font-cond);
  letter-spacing: .2px;
}
.cv-meta{ color: var(--muted); font-size: .95rem; margin-bottom: .35rem; }
.cv-list{
  margin: 0;
  padding-left: 1.15rem;
  color: var(--muted);
  line-height: 1.6;
}
.tags{ display: flex; flex-wrap: wrap; gap: .5rem; }
.tag{
  display: inline-block;
  padding: .25rem .55rem;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: #fff;
  color: #0b3a66;
  font-size: .9rem;
  box-shadow: var(--shadow);
}
.cv-grid{
  display: grid;
  gap: 1rem;
  grid-template-columns: 1fr;
  margin-top: 1.25rem;
}
@media (min-width: 860px){
  .cv-grid{ grid-template-columns: 1fr 1fr 1fr; }
}
.cv-box{
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem;
  box-shadow: var(--shadow);
}
.cv-subtitle{
  margin: 0 0 .4rem;
  font-family: var(--font-cond);
  font-weight: 700;
  color: var(--brand-red-ink);
}
.cv-actions{
  display: flex;
  gap: .75rem;
  margin-top: 1rem;
  flex-wrap: wrap;
}
.btn{
  display: inline-block;
  padding: .6rem .9rem;
  border-radius: .7rem;
  background: var(--brand-red);
  color: #fff;
  font-weight: 700;
  font-family: var(--font-cond);
  border: 1px solid transparent;
  text-decoration: none;
  transition: transform .05s ease, filter .2s ease;
}
.btn:hover,.btn:focus{ filter: brightness(1.05); text-decoration: none; }
.btn:active{ transform: translateY(1px); }
.btn--ghost{
  background: #fff;
  color: var(--hero-bg);
  border: 1px solid var(--border);
}
.btn--ghost:hover,.btn--ghost:focus{ background: var(--drawer-chip-hov); }


/* ===========================================================
   18) ZOOM / MODAL – Styles für Lupe, Vollbild und Pan & Zoom
   -----------------------------------------------------------
   Klassen beginnen mit .rz-... (RZ = Rechenzentrum)
   → EINMALIG (doppelte Blöcke entfernt)
   =========================================================== */

/* (A) Figure mit Bild, Button & Lupe */
.rz-zoom {                /* Hülle fürs Diagramm */
  position: relative;
  margin: 0;
}
.rz-zoom__open {          /* Button "Groß ansehen" */
  position: absolute;
  right: .6rem;
  bottom: .6rem;
  z-index: 2;
  padding: .45rem .7rem;
  border-radius: .6rem;
  border: 1px solid var(--border);
  background: #fff;
  color: var(--hero-bg);
  font-weight: 700;
  font-family: var(--font-cond);
  box-shadow: var(--shadow);
  cursor: pointer;
}
.rz-zoom__open:hover,
.rz-zoom__open:focus { background: var(--drawer-chip-hov); }

/* Lupe-Overlay (kleiner Kreis, der beim Hover erscheint) */
.rz-zoom__lens {
  display: none;            /* per JS eingeblendet */
  position: absolute;
  width: 130px;
  height: 130px;
  border-radius: 999px;
  box-shadow: 0 0 0 2px rgba(0,0,0,.08), 0 8px 24px rgba(0,0,0,.18);
  pointer-events: none;     /* nicht klickbar */
  background-repeat: no-repeat;
  background-position: center;
  background-size: 200%;    /* Vergrößerungsfaktor der Lupe */
  z-index: 1;
}

/* (B) Modal (Vollbild) */
.rz-modal[hidden] { display: none; }
.rz-modal {
  position: fixed;
  inset: 0;
  z-index: 1000;
}
.rz-modal__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.6);
}
.rz-modal__dialog {
  position: relative;
  z-index: 1;
  width: min(1100px, 92vw);
  height: min(80vh, 820px);
  margin: 6vh auto 0;
  background: #fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
}
.rz-modal__head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .6rem .8rem;
  border-bottom: 1px solid var(--border);
}
.rz-modal__close {
  border: 1px solid var(--border);
  background: #fff;
  border-radius: .6rem;
  width: 34px; height: 34px;
  font-size: 20px;
  line-height: 1;
  cursor: pointer;
}
.rz-modal__close:hover,
.rz-modal__close:focus { background: var(--drawer-chip-hov); }

/* (C) Bühne: Pan & Zoom */
.rz-stage {
  position: relative;
  flex: 1 1 auto;
  overflow: hidden;       /* Bild bleibt in der Bühne */
  background: #f6f8fa;
  cursor: grab;
  outline: none;
}
.rz-stage:active { cursor: grabbing; }
.rz-stage__img {
  user-select: none;
  -webkit-user-drag: none;
  transform-origin: 0 0;  /* wichtig: linke obere Ecke für Matrix */
  will-change: transform;
  max-width: none;        /* wir steuern die Größe per Transform */
}

/* (D) Tools */
.rz-tools {
  display: flex;
  gap: .5rem;
  padding: .6rem .8rem;
  border-top: 1px solid var(--border);
  justify-content: flex-end;
}
.rz-btn {
  padding: .5rem .75rem;
  border-radius: .6rem;
  border: 1px solid var(--border);
  background: #fff;
  cursor: pointer;
  font-weight: 700;
  font-family: var(--font-cond);
}
.rz-btn:hover, .rz-btn:focus { background: var(--drawer-chip-hov); }
